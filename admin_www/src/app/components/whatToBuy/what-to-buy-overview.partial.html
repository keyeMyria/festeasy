<loading-indicator data="orderProducts && festivals" error="false"></loading-indicator>
<div ng-show="orderProducts && festivals">

	For Festival:
	<ui-select ng-model="selectedFestival" on-select="updateSelectedFestival($item, $model)">
	    <ui-select-match placeholder="Select a festival">
	        <span ng-bind="$select.selected.name"></span>
	    </ui-select-match>
	    <ui-select-choices repeat="festival in (festivals | filter: $select.search) track by festival.id">
	        <span ng-bind="festival.name"></span>
	    </ui-select-choices>
	</ui-select>
	<br/>

	<table class="table table-hover">
		<th>ID</th>
		<th>Product</th>
		<th>Price</th>
		<th>User ID</th>
		<th>Festival</th>
		<tr ng-repeat="orderProduct in orderProducts | unique: 'orderProduct.product.id'">
			<td>{{orderProduct.id}}</td>
			<td>{{orderProduct.product.id}}</td>
			<td>{{orderProduct.unit_price_rands}}</td>
			<td>{{orderProduct.order.user_id}}</td>
			<td>{{orderProduct.order.festival.name}}</td>
		</tr>
	</table>
</div>
