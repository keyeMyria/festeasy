<loading-indicator data="order" error="error"></loading-indicator>
<div class="ui segment" ng-show="order">
	<h1 class="ui center aligned header">Order Confirmation</h1>
	<div class="ui segment">
		<h2 class="ui header">Order Summary</h2>
		<h3 class="ui header">Festival</h3>
		<p>
			<a style="cursor:pointer;" ui-sref="base.festivals.festival({festivalId:festival.id})">
				{{order.festival.name + ' ' + (festival.starts_on | date: 'yyyy')}}
			</a>
		</p>
		<div>
			<p>Starts: {{order.festival.starts_on | date: "EEEE, d MMMM yyyy"}}</p>
			<p>Ends: {{order.festival.ends_on | date: "EEEE, d MMMM yyyy"}}</p>
		</div>
		<br/>
		<h3 class="ui header">Products</h3>
		<table class="ui selectable celled table">
			<thead>
				<th>Item Description</th>
				<th>Quantity</th>
				<th>Unit Price</th>
				<th>Sub Total</th>
			</thead>
			<tbody>
				<tr ng-repeat="orderProduct in orderProducts">
					<td>
						<a
							ui-sref="base.store.product({productId: orderProduct.product.id})"
							ui-sref-opts="{inherit: false}">
							{{orderProduct.product.name}}
						</a>
					</td>
					<td>{{orderProduct.quantity}}</td>
					<td><rands amount-rands="orderProduct.product.price_rands"></rands></td>
					<td><rands amount-rands="orderProduct.sub_total_rands"></rands></td>
				</tr>
			</tbody>
		</table>
		<div>
			<p>
				Total: <rands amount-rands="order.total_rands"></rands>
			</p>
		</div>
	</div>
</div>
